{"ast":null,"code":"import _objectSpread from\"/Users/oncsoftwaredesignosmanasar-nurselcansuozkan/Desktop/ReactApps/onc-ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/oncsoftwaredesignosmanasar-nurselcansuozkan/Desktop/ReactApps/onc-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef}from'react';import ReactDOM from'react-dom';import stylesModule from'./Modal.module.css';import Button from'../Button/Button';import{CloseSvg}from'../Icons';import{useTheme}from'../../utils/theme';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Modal=function Modal(_ref){var open=_ref.open,onClose=_ref.onClose,children=_ref.children,style=_ref.style,heading=_ref.heading;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isDragging=_useState2[0],setIsDragging=_useState2[1];var modalRef=useRef(null);var offsetX=useRef(0);var offsetY=useRef(0);var theme=useTheme();var styleVariables={'--primaryColor':theme.primaryColor,'--secondaryColor':theme.secondaryColor,'--shadowColor':theme.shadowColor};var handleMouseDown=function handleMouseDown(e){if(e.button===0){setIsDragging(true);offsetX.current=e.clientX-modalRef.current.getBoundingClientRect().left;offsetY.current=e.clientY-modalRef.current.getBoundingClientRect().top;}};var handleMouseMove=function handleMouseMove(e){if(isDragging){var modal=modalRef.current;if(modal){var newX=e.clientX-offsetX.current;var newY=e.clientY-offsetY.current;modal.style.left=newX+'px';modal.style.top=newY+'px';}}};var handleMouseUp=function handleMouseUp(){setIsDragging(false);};var renderModal=function renderModal(){return open?/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(stylesModule.modal),style:styleVariables,ref:modalRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(stylesModule.modalHeader),style:styleVariables,onMouseDown:handleMouseDown,onMouseMove:handleMouseMove,onMouseUp:handleMouseUp,children:[heading,/*#__PURE__*/_jsx(Button,{label:/*#__PURE__*/_jsx(CloseSvg,{}),type:\"secondary\",rounded:true,onClick:onClose})]}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(stylesModule.modalContent),style:_objectSpread(_objectSpread({},style),styleVariables),children:children})]}):null;};return/*#__PURE__*/ReactDOM.createPortal(renderModal(),document.body);};export default Modal;","map":{"version":3,"names":["React","useState","useRef","ReactDOM","stylesModule","Button","CloseSvg","useTheme","jsx","_jsx","jsxs","_jsxs","Modal","_ref","open","onClose","children","style","heading","_useState","_useState2","_slicedToArray","isDragging","setIsDragging","modalRef","offsetX","offsetY","theme","styleVariables","primaryColor","secondaryColor","shadowColor","handleMouseDown","e","button","current","clientX","getBoundingClientRect","left","clientY","top","handleMouseMove","modal","newX","newY","handleMouseUp","renderModal","className","concat","ref","modalHeader","onMouseDown","onMouseMove","onMouseUp","label","type","rounded","onClick","modalContent","_objectSpread","createPortal","document","body"],"sources":["/Users/oncsoftwaredesignosmanasar-nurselcansuozkan/Desktop/ReactApps/onc-ui/src/components/Modal/Modal.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport stylesModule from './Modal.module.css';\nimport Button from '../Button/Button';\nimport { CloseSvg } from '../Icons';\nimport { useTheme } from '../../utils/theme';\n\nconst Modal = ({ open, onClose, children, style, heading }) => {\n  const [isDragging, setIsDragging] = useState(false);\n  const modalRef = useRef(null);\n  const offsetX = useRef(0);\n  const offsetY = useRef(0);\n  const theme = useTheme();\n  const styleVariables = {\n    '--primaryColor': theme.primaryColor,\n    '--secondaryColor': theme.secondaryColor,\n    '--shadowColor': theme.shadowColor,\n  };\n  const handleMouseDown = (e) => {\n    if (e.button === 0) {\n      setIsDragging(true);\n      offsetX.current =\n        e.clientX - modalRef.current.getBoundingClientRect().left;\n      offsetY.current =\n        e.clientY - modalRef.current.getBoundingClientRect().top;\n    }\n  };\n\n  const handleMouseMove = (e) => {\n    if (isDragging) {\n      const modal = modalRef.current;\n      if (modal) {\n        const newX = e.clientX - offsetX.current;\n        const newY = e.clientY - offsetY.current;\n        modal.style.left = newX + 'px';\n        modal.style.top = newY + 'px';\n      }\n    }\n  };\n\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  const renderModal = () => {\n    return open ? (\n      <div\n        className={`${stylesModule.modal}`}\n        style={styleVariables}\n        ref={modalRef}\n      >\n        <div\n          className={`${stylesModule.modalHeader}`}\n          style={styleVariables}\n          onMouseDown={handleMouseDown}\n          onMouseMove={handleMouseMove}\n          onMouseUp={handleMouseUp}\n        >\n          {heading}\n          <Button\n            label={<CloseSvg />}\n            type=\"secondary\"\n            rounded\n            onClick={onClose}\n          />\n        </div>\n        <div\n          className={`${stylesModule.modalContent}`}\n          style={{ ...style, ...styleVariables }}\n        >\n          {children}\n        </div>\n      </div>\n    ) : null;\n  };\n  return ReactDOM.createPortal(renderModal(), document.body);\n};\n\nModal.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n  heading: PropTypes.string,\n  style: PropTypes.object,\n  children: PropTypes.children,\n};\n\nexport default Modal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}