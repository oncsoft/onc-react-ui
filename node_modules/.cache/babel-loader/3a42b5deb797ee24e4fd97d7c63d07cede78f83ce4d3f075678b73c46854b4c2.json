{"ast":null,"code":"import _slicedToArray from\"/Users/oncsoftwaredesignosmanasar-nurselcansuozkan/Desktop/ReactApps/onc-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useMemo,useState,useRef}from'react';import Input from'../Input/Input';import styleModules from'./Dropdown.module.css';import{useTheme}from'../../utils/theme';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dropdown=function Dropdown(_ref){var label=_ref.label,onSelect=_ref.onSelect,_ref$data=_ref.data,data=_ref$data===void 0?[]:_ref$data,value=_ref.value,noShadow=_ref.noShadow;var _useState=useState(value),_useState2=_slicedToArray(_useState,2),innerValue=_useState2[0],setInnerValue=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isSearch=_useState4[0],setIsSearch=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),open=_useState6[0],setOpen=_useState6[1];var theme=useTheme();var styleVariables={'--primaryColor':theme.primaryColor,'--secondaryColor':theme.secondaryColor,'--shadowColor':noShadow?'':theme.shadowColor,'--disabledColor':theme.disabledColor};var containerRef=useRef();var optionsRef=useRef();useEffect(function(){setInnerValue(value);},[value]);var setOpenStatus=function setOpenStatus(status){return function(){setIsSearch(false);setOpen(status);};};var onChangeInput=function onChangeInput(e){setIsSearch(true);setInnerValue(e.target.value);};var onSelectOption=function onSelectOption(option){return function(e){e.stopPropagation();console.error(option);onSelect(option);requestAnimationFrame(setOpenStatus(false));};};var filterData=function filterData(data){return isSearch?data.filter(function(item){return item&&item.includes(innerValue);}):data;};var renderOptions=useMemo(function(){var filteredData=filterData(data!==null&&data!==void 0?data:[]);return/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styleModules.datalist,\" \").concat(open?styleModules.visible:styleModules.invisible),style:styleVariables,tabIndex:0,ref:optionsRef,onBlur:setOpenStatus(false),children:filteredData.length?filteredData.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{onClick:onSelectOption(item),className:\"\".concat(styleModules.option),style:styleVariables,children:item},item+index);}):/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(styleModules.option),style:styleVariables,children:\"Sonu\\xE7 Bulunamad\\u0131\"})});},[data,open,innerValue]);return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styleModules.dropdownContainer),ref:containerRef,children:[/*#__PURE__*/_jsx(Input,{label:label,value:innerValue!==null&&innerValue!==void 0?innerValue:'',onChange:onChangeInput,noShadow:noShadow!==null&&noShadow!==void 0?noShadow:false,onBlur:function onBlur(){optionsRef.current.focus();},onClick:setOpenStatus(true)}),renderOptions]});};Dropdown.__docgenInfo={\"description\":\"\",\"methods\":[],\"displayName\":\"Dropdown\",\"props\":{\"data\":{\"defaultValue\":{\"value\":\"[]\",\"computed\":false},\"description\":\"\",\"type\":{\"name\":\"array\"},\"required\":false},\"label\":{\"description\":\"\",\"type\":{\"name\":\"string\"},\"required\":false},\"onSelect\":{\"description\":\"\",\"type\":{\"name\":\"func\"},\"required\":false},\"value\":{\"description\":\"\",\"type\":{\"name\":\"string\"},\"required\":false},\"noShadow\":{\"description\":\"\",\"type\":{\"name\":\"bool\"},\"required\":false}}};export default Dropdown;","map":{"version":3,"names":["React","useEffect","useMemo","useState","useRef","Input","styleModules","useTheme","jsx","_jsx","jsxs","_jsxs","Dropdown","_ref","label","onSelect","_ref$data","data","value","noShadow","_useState","_useState2","_slicedToArray","innerValue","setInnerValue","_useState3","_useState4","isSearch","setIsSearch","_useState5","_useState6","open","setOpen","theme","styleVariables","primaryColor","secondaryColor","shadowColor","disabledColor","containerRef","optionsRef","setOpenStatus","status","onChangeInput","e","target","onSelectOption","option","stopPropagation","console","error","requestAnimationFrame","filterData","filter","item","includes","renderOptions","filteredData","className","concat","datalist","visible","invisible","style","tabIndex","ref","onBlur","children","length","map","index","onClick","dropdownContainer","onChange","current","focus","__docgenInfo"],"sources":["/Users/oncsoftwaredesignosmanasar-nurselcansuozkan/Desktop/ReactApps/onc-ui/src/components/Dropdown/Dropdown.js"],"sourcesContent":["import React, { useEffect, useMemo, useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport Input from '../Input/Input';\nimport styleModules from './Dropdown.module.css';\nimport { useTheme } from '../../utils/theme';\n\nconst Dropdown = ({ label, onSelect, data = [], value, noShadow }) => {\n  const [innerValue, setInnerValue] = useState(value);\n  const [isSearch, setIsSearch] = useState(false);\n  const [open, setOpen] = useState(false);\n  const theme = useTheme();\n  const styleVariables = {\n    '--primaryColor': theme.primaryColor,\n    '--secondaryColor': theme.secondaryColor,\n    '--shadowColor': noShadow ? '' : theme.shadowColor,\n    '--disabledColor': theme.disabledColor,\n  };\n  const containerRef = useRef();\n  const optionsRef = useRef();\n\n  useEffect(() => {\n    setInnerValue(value);\n  }, [value]);\n\n  const setOpenStatus = (status) => () => {\n    setIsSearch(false);\n    setOpen(status);\n  };\n\n  const onChangeInput = (e) => {\n    setIsSearch(true);\n    setInnerValue(e.target.value);\n  };\n\n  const onSelectOption = (option) => (e) => {\n    e.stopPropagation();\n    console.error(option);\n    onSelect(option);\n    requestAnimationFrame(setOpenStatus(false));\n  };\n\n  const filterData = (data) => {\n    return isSearch\n      ? data.filter((item) => item && item.includes(innerValue))\n      : data;\n  };\n\n  const renderOptions = useMemo(() => {\n    const filteredData = filterData(data ?? []);\n    return (\n      <div\n        className={`${styleModules.datalist} ${\n          open ? styleModules.visible : styleModules.invisible\n        }`}\n        style={styleVariables}\n        tabIndex={0}\n        ref={optionsRef}\n        onBlur={setOpenStatus(false)}\n      >\n        {filteredData.length ? (\n          filteredData.map((item, index) => {\n            return (\n              <div\n                onClick={onSelectOption(item)}\n                className={`${styleModules.option}`}\n                key={item + index}\n                style={styleVariables}\n              >\n                {item}\n              </div>\n            );\n          })\n        ) : (\n          <div className={`${styleModules.option}`} style={styleVariables}>\n            Sonuç Bulunamadı\n          </div>\n        )}\n      </div>\n    );\n  }, [data, open, innerValue]);\n\n  return (\n    <div className={`${styleModules.dropdownContainer}`} ref={containerRef}>\n      <Input\n        label={label}\n        value={innerValue ?? ''}\n        onChange={onChangeInput}\n        noShadow={noShadow ?? false}\n        onBlur={() => {\n          optionsRef.current.focus();\n        }}\n        onClick={setOpenStatus(true)}\n      />\n      {renderOptions}\n    </div>\n  );\n};\n\nDropdown.propTypes = {\n  label: PropTypes.string,\n  onSelect: PropTypes.func,\n  data: PropTypes.array,\n  value: PropTypes.string,\n  noShadow: PropTypes.bool,\n};\n\nexport default Dropdown;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}